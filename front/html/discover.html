<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ylover | Discover</title>
    <link
      rel="shortcut icon"
      href="../asset/img/favicon.ico"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../asset/css/discover_likes.css" />
  </head>
  <body>
    <script src="../../serveur.js"></script>
    <nav>
      <img class="logo" src="../asset/img/logo.png" alt="" />
      <ul>
        <a href="/discover" class="btnNav">
          <img class="icon" src="../asset/img/compass.png" alt="" /><span
            >Découvrir</span
          >
        </a>
        <a href="/matchs" class="btnNav">
          <img class="icon" src="../asset/img/couple.png" alt="" /><span
            >Matchs</span
          >
        </a>
        <a href="/likes" class="btnNav">
          <img class="icon" src="../asset/img/like.png" alt="" /><span
            >Likes</span
          >
        </a>
        <a href="/myProfil" class="btnNav">
          <img class="icon" src="../asset/img/user.png" alt="" /><span
            >Profil</span
          >
        </a>
      </ul>
      <!-- button to wordRandom.js -->
      <button id="randomWord">Défi mot a placer</button>
      <a href="/register" class="deco">Se déconnecter</a>
    </nav>

    <main>
      <h1 class="titlePage">L'exploreur</h1>
      <section class="cards" id="matchDeFoot">
        <!-- <% cards.forEach(card => { %> -->
        <!-- Card -->
        <script>
          // Données simulées pour les cartes (à remplacer par vos données réelles)
          // Sélectionnez la section où vous souhaitez ajouter les nouvelles cartes
          const matchDeFootSection = document.getElementById("matchDeFoot");
          const cardsData = [];
          function handleClick(event) {
            event.preventDefault();
            const clickedButton = event.target;
            const buttonId = clickedButton.id;
            console.log('ID du bouton cliqué :', buttonId);
          }

          console.log(cardsData)
          // Parcourez les données et créez dynamiquement les cartes
          cardsData.forEach((card) => {
            // Créez les éléments de la carte
            const cardElement = document.createElement("div");
            cardElement.classList.add("card");

            const triangleElement = document.createElement("div");
            triangleElement.classList.add("triangle");
            cardElement.appendChild(triangleElement);

            const imgProfilElement = document.createElement("img");
            imgProfilElement.classList.add("imgProfil");
            (imgProfilElement.src = "../asset/img/john.jpg"),
              (imgProfilElement.alt = "");
            cardElement.appendChild(imgProfilElement);

            const cardInfoElement = document.createElement("section");
            cardInfoElement.classList.add("cardInfo");
            cardElement.appendChild(cardInfoElement);

            const titleElement = document.createElement("h2");
            titleElement.classList.add("title");
            cardInfoElement.appendChild(titleElement);

            const nameElement = document.createElement("span");
            nameElement.classList.add("name");
            nameElement.textContent = card.first_name;
            titleElement.appendChild(nameElement);

            const ageElement = document.createElement("span");
            ageElement.classList.add("age");
            ageElement.textContent = card.age;
            titleElement.appendChild(ageElement);

            const descriptionElement = document.createElement("p");
            descriptionElement.innerHTML = `<span>Description : </span>${card.bio}`;
            cardInfoElement.appendChild(descriptionElement);

            const majorElement = document.createElement("p");
            majorElement.innerHTML = `<span>Filière : </span>${card.branch}`;
            cardInfoElement.appendChild(majorElement);

            const levelElement = document.createElement("p");
            levelElement.innerHTML = `<span>Niveau : </span>${card.level}`;
            cardInfoElement.appendChild(levelElement);

            const cityElement = document.createElement("p");
            cityElement.innerHTML = `<span>Ville : </span>${card.city}`;
            cardInfoElement.appendChild(cityElement);

            const btnsCardElement = document.createElement("div");
            btnsCardElement.classList.add("btnsCard");
            cardInfoElement.appendChild(btnsCardElement);

            const profilLinkElement = document.createElement("a");
            profilLinkElement.href = "/profil";
            btnsCardElement.appendChild(profilLinkElement);

            const moreIconElement = document.createElement("img");
            moreIconElement.classList.add("icon");
            moreIconElement.src = "../asset/img/more.png";
            moreIconElement.alt = "";
            profilLinkElement.appendChild(moreIconElement);

        const likeFormElement = document.createElement("form");
        likeFormElement.method = "post";
        likeFormElement.classList.add("like-form");
        btnsCardElement.appendChild(likeFormElement);

        const likeButtonElement = document.createElement("button");
        likeButtonElement.classList.add("like-button");
        moreIconElement.classList.add("bouton");
        likeButtonElement.type = "button"; // type button pour éviter la soumission du formulaire
        likeButtonElement.id = `lien-${card.id}`; // ID unique basé sur l'ID de la carte
        likeButtonElement.value = card.id;
        likeButtonElement.addEventListener("click", handleClick);
        likeFormElement.appendChild(likeButtonElement);

        const likeIconElement = document.createElement("img");
        likeIconElement.classList.add("icon");
        likeIconElement.src = "../asset/img/like.png";
        likeIconElement.alt = "";
        likeButtonElement.appendChild(likeIconElement);
          // Ajoutez la carte créée à la section
          matchDeFootSection.appendChild(cardElement);

          // Ajoutez un écouteur de clic à l'élément de lien
          
          });
        </script>
      </section>
    </main>
  </body>
</html>

<script src="../asset/js/wordRandom.js"></script>